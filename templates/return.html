{% extends "base.html" %}
{% block content %}

<h1>All Enrolled Students</h1>
<br>
<table class="table table-striped">
    <thead>
      <tr>
        <th>Student ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Starting Year</th>
        <th>Enrolled Courses</th>
        <th>Update</th>
      </tr>
	</thead>
	<tr>
		{% for item in student_details %}
		
    	<td>{{item[1]}}</td>
    	<td>{{item[2]}}</td>
    	<td>{{item[3]}}</td>
    	<td>{{item[4]}}</td>
    	<td>{{item[0]}}</td>
    	<td>
			<a href="/edit/{{item[1]}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#myModal{{item[1]}}">Edit</a>
    	<td>
	</tr>
	
<div id="myModal{{item[1]}}" class="modal fade" role="dialog">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <h4 class="modal-title">Update Information</h4>
         </div>
         <div class="modal-body">
            <form action="{{ url_for('edit') }}" method="POST">
               <div class="form-group">
                  <label>First Name:</label>
                   <input type="hidden"  name="student_id" value="{{item[1]}}">
                  <input type="text" class="form-control" name="first_name" value="{{item[2]}}">
               </div>
               <div class="form-group">
                  <label>Last Name:</label>
                  <input type="text" class="form-control" name="last_name" value="{{item[3]}}">
               </div>
               <div class="form-group">
                  <label>Starting Year:</label>
                  <input type="text" class="form-control" name="starting_year" value="{{item[4]}}">
               </div>
               <div class="form-group">
                  <button class="btn btn-primary" type="submit">Update</button>
               </div>
            </form>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
         </div>
      </div>
   </div>
</div>

	
		{% endfor %}
</table>

{% endblock %}